//
// Mobile responsive mixins, convenience mixins, and variables that use Neat's column structure
//


// ================================================================================
//   Variables we'll be using to define our breakpoints
// ================================================================================

/// The minimum width that will be considered a "phone" with media queries. This
/// variable is only used for the `visible-phone()` and `invisible-phone()` mixins.
/// It is not used in the `respond-to()` mixin.
$phone-min-size: 320px;

/// The maximum width that will be considered a "phone" with media queries
$phone-max-size: 480px;

/// The minimum width that will be considered a "phablet" with media queries. Those
/// giant phones that can't even fit in your pocket
$phablet-min-size: $phone-max-size + 1;

/// The maximum width that will be considered a "phablet" with media queries. Those
/// giant phones that can't even fit in your pocket
$phablet-max-size: 768px;

/// The minimum width that will be considered a "tablet" with media queries.
$tablet-min-size: $phablet-max-size + 1;

/// The maximum width that will be considered a "tablet" with media queries
$tablet-max-size: 992px;

/// The minimum width that will be considered a "desktop" with media queries.
$desktop-min-size: $tablet-max-size + 1;



// ================================================================================
//   Mixins we'll be using for our breakpoints
// ================================================================================

/// Have the specified content inside of the mixin respond to a specific view size
///
/// @content
///
/// @param {String} $media
///   Accepted view sizes: `phones`, `phablets`, `tablets`
///
/// @example scss - Usage
///   @include respond-to(phablets) {
///       .phablet-only {
///           display: block;
///       }
///   }
///
/// @example css - CSS Output
///   @media only screen and (max-width: 45em) {
///       .phablet-only {
///           display: block;
///       }
///   }

@mixin respond-to($media) {
    @if $media == phones {
        @media only screen and (max-width: $phone-max-size) { @content; }
    }
    @else if $media == phablets {
        @media only screen and (max-width: $phablet-max-size) { @content; }
    }
    @else if $media == tablets {
        @media only screen and (max-width: $tablet-max-size) { @content; }
    }
}


/// A mixin which includes Neat's [outer-container()](http://thoughtbot.github.io/neat-docs/latest/#outer-container) mixin for a desktop to keep it consistent with the other mixins
///
/// @param {Number [unit]} $width [em(1088)]
///   The max width to be applied to the element. Can be a percentage or a measure.
///
/// @link http://thoughtbot.github.io/neat-docs/latest/#outer-container
///
/// @example scss - SCSS Equivalent
///   @include outer-container;

@mixin desktop-container($width: $max-width) {
    @include outer-container($width);
}


/// A convenience mixin which includes Neat's [outer-container()](http://thoughtbot.github.io/neat-docs/latest/#outer-container) mixin that will only be included once we hit a tablet view or smaller
///
/// @param {Number [unit]} $width [em(1088)]
///   The max width to be applied to the element. Can be a percentage or a measure.
///
/// @link http://thoughtbot.github.io/neat-docs/latest/#outer-container
///
/// @example scss - SCSS Equivalent
///   @include respond-to(tablets) {
///       @include outer-container($width);
///   }

@mixin tablet-container($width: $max-width) {
    @include respond-to(tablets) {
        @include outer-container($width);
    }
}


/// A convenience mixin which includes Neat's [outer-container()](http://thoughtbot.github.io/neat-docs/latest/#outer-container) mixin that will only be included once we hit a phablet view or smaller
///
/// @param {Number [unit]} $width [em(1088)]
///   The max width to be applied to the element. Can be a percentage or a measure.
///
/// @link http://thoughtbot.github.io/neat-docs/latest/#outer-container
///
/// @example scss - SCSS Equivalent
///   @include respond-to(phablets) {
///       @include outer-container($width);
///   }

@mixin phablet-container($width: $max-width) {
    @include respond-to(phablets) {
        @include outer-container($width);
    }
}


/// A convenience mixin which includes Neat's [outer-container()](http://thoughtbot.github.io/neat-docs/latest/#outer-container) mixin that will only be included once we hit a phone view
///
/// @param {Number [unit]} $width [em(1088)]
///   The max width to be applied to the element. Can be a percentage or a measure.
///
/// @link http://thoughtbot.github.io/neat-docs/latest/#outer-container
///
/// @example scss - SCSS Equivalent
///   @include respond-to(phones) {
///       @include outer-container($width);
///   }

@mixin phone-container($width: $max-width) {
    @include respond-to(phones) {
        @include outer-container($width);
    }
}


/// A mixin which includes Neat's [span-columns()](http://thoughtbot.github.io/neat-docs/latest/#span-columns) mixin for a desktop to keep it consistent with the other mixins
///
/// @param {Number [unitless]} $columns
///   Specifies the number of columns an element should span. If the selector is nested the number of columns of its parent element should be passed as an argument as well.
///
/// @link http://thoughtbot.github.io/neat-docs/latest/#span-columns
///
/// @example scss - SCSS Equivalent
///   @include span-columns($columns);

@mixin desktop-columns($columns) {
    @include span-columns($columns);
}


/// A convenience mixin which includes Neat's [span-columns()](http://thoughtbot.github.io/neat-docs/latest/#span-columns) mixin that will only be included once we hit a tablet view or smaller
///
/// @param {Number [unitless]} $columns
///   Specifies the number of columns an element should span. If the selector is nested the number of columns of its parent element should be passed as an argument as well.
///
/// @link http://thoughtbot.github.io/neat-docs/latest/#span-columns
///
/// @example scss - SCSS Equivalent
///   @include respond-to(tablets) {
///       @include span-columns($columns);
///   }

@mixin tablet-columns($columns) {
    @include respond-to(tablets) {
        @include span-columns($columns);
    }
}


/// A convenience mixin which includes Neat's [span-columns()](http://thoughtbot.github.io/neat-docs/latest/#span-columns) mixin that will only be included once we hit a phablet view or smaller
///
/// @param {Number [unitless]} $columns
///   Specifies the number of columns an element should span. If the selector is nested the number of columns of its parent element should be passed as an argument as well.
///
/// @link http://thoughtbot.github.io/neat-docs/latest/#span-columns
///
/// @example scss - SCSS Equivalent
///   @include respond-to(phablets) {
///       @include span-columns($columns);
///   }

@mixin phablet-columns($columns) {
    @include respond-to(phablets) {
        @include span-columns($columns);
    }
}


/// A convenience mixin which includes Neat's [span-columns()](http://thoughtbot.github.io/neat-docs/latest/#span-columns) mixin that will only be included once we hit a phone view
///
/// @param {Number [unitless]} $columns
///   Specifies the number of columns an element should span. If the selector is nested the number of columns of its parent element should be passed as an argument as well.
///
/// @link http://thoughtbot.github.io/neat-docs/latest/#span-columns
///
/// @example scss - SCSS Equivalent
///   @include respond-to(phones) {
///       @include span-columns($columns);
///   }

@mixin phone-columns($columns) {
    @include respond-to(phones) {
        @include span-columns($columns);
    }
}


/// Set the visibility of a specific element to be visible or hidden based on the screen width. An element will only be
/// visible when the screen is at the specified width. For example, if you have an element only be visible on phones,
/// you would set the minimum and maximum screen size a phone would have. You can use pre-defined values such as
/// `$phone-min-size` and `$phone-max-size` to stay consistent with the project. This function should not be accessed
/// directly and instead should only be used through convenience mixins.
///
/// @access private
///
/// @param {Boolean} $hide
///   Whether you want to hide or display the specified element in the specified screen width. True to display the element
///   **only** on the specified screen size.
/// @param {Number [unit]} $min
///   The minimum size a screen should have in order for the specified element to be displayed
/// @param {Number [unit]} $max
///   (Optional) The maximum size a screen should have in order for the specified element to be displayed. If no maximum
///   or 0 is specified, then the element will be displayed on a screen size at least `$min` in width.

@mixin set-visibilty($hide, $min, $max: 0) {
    display: if($hide, none, block);

    @if $max == 0 {
        @media only screen and (min-width: $min) {
            display: if($hide, block, none);
        }
    }
    @else {
        @media only screen and (min-width: $min) and (max-width: $max) {
            display: if($hide, block, none);
        }
    }
}


/// A mixin that will hide the specified element only on a desktop
///
/// @example scss
///   .hide-desktop-only {
///       @include invisible-desktop();
///   }

@mixin invisible-desktop() {
    @include set-visibilty(false, $desktop-min-size);
}


/// A mixin that will hide the specified element only on a tablet
///
/// @example scss
///   .hide-tablet-only {
///       @include invisible-tablet();
///   }

@mixin invisible-tablet() {
    @include set-visibilty(false, $tablet-min-size, $tablet-max-size);
}


/// A mixin that will hide the specified element only on a phablet
///
/// @example scss
///   .hide-phablet-only {
///       @include invisible-phablet();
///   }

@mixin invisible-phablet() {
    @include set-visibilty(false, $phablet-min-size, $phablet-max-size);
}


/// A mixin that will hide the specified element only on a phone
///
/// @example scss
///   .hide-phone-only {
///       @include invisible-phone();
///   }

@mixin invisible-phone() {
    @include set-visibilty(false, $phone-min-size, $phone-max-size);
}


/// A mixin that will make the specified element appear only on a desktop
///
/// @example scss
///   .display-desktop-only {
///       @include visible-desktop();
///   }

@mixin visible-desktop() {
    @include set-visibilty(true, $desktop-min-size);
}


/// A mixin that will make the specified element appear only on a table
///
/// @example scss
///   .display-tablet-only {
///       @include visible-tablet();
///   }

@mixin visible-tablet() {
    @include set-visibilty(true, $tablet-min-size, $tablet-max-size);
}


/// A mixin that will make the specified element appear only on a phablet
///
/// @example scss
///   .display-phablet-only {
///       @include visible-phablet();
///   }

@mixin visible-phablet() {
    @include set-visibilty(true, $phablet-min-size, $phablet-max-size);
}


/// A mixin that will make the specified element appear only on a phone
///
/// @example scss
///   .display-phone-only {
///       @include visible-phone();
///   }

@mixin visible-phone() {
    @include set-visibilty(true, $phone-min-size, $phone-max-size);
}