{% extends 'layout.html.twig' %}

{% block title %}
    {% if team %}
        Matches :: {{ team.name }}
    {% else %}
        Matches
    {% endif %}
{% endblock %}

{% block content %}
    <main class="match_list">
        <section class="content_header">
            <article class="wrapper">
                <div>
                    <h1>Matches</h1>
                </div>

                {% if me.canCreate("Match") %}
                    <div class="buttons">
                        <a class="button grey notextshadow" href="{{ path('match_enter') }}"><i class="fa fa-plus"></i> Report Match</a>
                    </div>
                {% endif %}
            </article>
        </section>

        <section class="matches">
            {% for match in matches %}
                <article>
                    <div class="css-table">
                        <div class="row winner">
                            <div class="column team">{{ link_to(match.winner) }}</div>
                            <div class="column score">{{ match.score(match.winner.id) }}</div>
                        </div>
                        <div class="row loser">
                            <div class="column team">{{ link_to(match.loser) }}</div>
                            <div class="column score">{{ match.score(match.loser.id) }}</div>
                        </div>
                    </div>
                    <div class="extra">
                        <a href="#" title="View More Match Details"><i class="fa fa-angle-double-right"></i></a>
                    </div>
                </article>
            {% endfor %}
        </section>
    </main>
{% endblock %}

{% block javascripts %}
    <script src="{{ request.getBaseURL() }}/assets/js/matches.js"></script>
{% endblock %}
